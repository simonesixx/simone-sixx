# Redirect explicit index.html URLs to clean directory URLs
# Keeps query strings (e.g. /articles/article/index.html?id=quiest -> /articles/article/?id=quiest)

<IfModule mod_rewrite.c>
  RewriteEngine On

  # /index.html -> /
  RewriteCond %{THE_REQUEST} \s/+index\.html[\s?] [NC]
  RewriteRule ^index\.html$ / [R=301,L]

  # /something/index.html -> /something/
  RewriteCond %{THE_REQUEST} \s/+(.+/)index\.html[\s?] [NC]
  RewriteRule ^(.+/)index\.html$ /$1 [R=301,L]
</IfModule>
